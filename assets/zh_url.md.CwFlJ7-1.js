import{_ as a,c as i,o as t,ag as e}from"./chunks/framework.C6Ot-a7E.js";const E=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"zh/url.md","filePath":"zh/url.md","lastUpdated":1748703471000}'),n={name:"zh/url.md"};function p(r,s,l,h,d,k){return t(),i("div",null,s[0]||(s[0]=[e(`<h3 id="引入" tabindex="-1">引入 <a class="header-anchor" href="#引入" aria-label="Permalink to &quot;引入&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  extendUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  filterUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  formatUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  decode,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stringifyParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  addUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  decode,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stringifyParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  addUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  addUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  keepUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  removeUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolveUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  getQueryObj,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  composeUrlQuery,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  encodeUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  decodeUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  getUrlPara</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;t-comm&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 不支持 tree-shaking 的项目</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  extendUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  filterUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  formatUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  decode,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stringifyParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  addUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  decode,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stringifyParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  addUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  addUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  keepUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  removeUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolveUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  getQueryObj,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  composeUrlQuery,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  encodeUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  decodeUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  getUrlPara</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;t-comm/lib/url/index&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 只支持 ESM 的项目</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  extendUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  filterUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  formatUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  decode,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stringifyParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  addUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  decode,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stringifyParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  addUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  addUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  keepUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  removeUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolveUrlParams,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  getQueryObj,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  composeUrlQuery,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  encodeUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  decodeUrlParam,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  getUrlPara</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;t-comm/es/url/index&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h3 id="extendurlparams-url-removekeyarr" tabindex="-1"><code>extendUrlParams(url, removeKeyArr)</code> <a class="header-anchor" href="#extendurlparams-url-removekeyarr" aria-label="Permalink to &quot;\`extendUrlParams(url, removeKeyArr)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>拼接额外参数</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>url</td><td><code>string</code></td><td><p>地址</p></td></tr><tr><td>removeKeyArr</td><td><code>string</code></td><td><p>待添加的参数对象</p></td></tr></tbody></table><p><strong>返回</strong>: <p>重新拼接的地址</p></p><p><strong>示例</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> url1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> extendUrlParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://www.test.com?a=1&amp;b=2&amp;c=3#/detail?d=4&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { e: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;http://www.test.com/#/detail?a=1&amp;b=2&amp;c=3&amp;d=4&amp;e=5&#39;</span></span></code></pre></div><p><a name="filterUrlParams"></a></p><h3 id="filterurlparams-params" tabindex="-1"><code>filterUrlParams([params])</code> <a class="header-anchor" href="#filterurlparams-params" aria-label="Permalink to &quot;\`filterUrlParams([params])\`&quot;">​</a></h3><p><strong>描述</strong>：<p>根据地址长度，进行过滤地址参数，允许指定保留特定参数</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>[params]</td><td><code>object</code></td><td><code>{ limit: 1024 }</code></td><td><p>参数</p></td></tr><tr><td>params.url</td><td><code>number</code></td><td></td><td><p>待过滤地址，默认当前页面地址</p></td></tr><tr><td>params.limit</td><td><code>number</code></td><td></td><td><p>参数长度限制</p></td></tr><tr><td>params.keepKey</td><td><code>array</code></td><td></td><td><p>指定保留的参数，比如业务参数、框架参数（登录态、统计上报等）</p></td></tr></tbody></table><p><a name="formatUrlParams"></a></p><h3 id="formaturlparams-url-keepparamsobj" tabindex="-1"><code>formatUrlParams(url, keepParamsObj)</code> <a class="header-anchor" href="#formaturlparams-url-keepparamsobj" aria-label="Permalink to &quot;\`formatUrlParams(url, keepParamsObj)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>根据传入的参数，移除原来的所有参数，根据传入的 keepParamsObj 进行重新拼接地址，以 hash 模式返回</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>url</td><td><code>string</code></td><td><p>地址</p></td></tr><tr><td>keepParamsObj</td><td><code>object</code></td><td><p>参数对象</p></td></tr></tbody></table><p><strong>返回</strong>: <p>只有传入参数的地址</p></p><p><strong>示例</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> url1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> formatUrlParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://www.test.com?a=1&amp;b=2&amp;c=3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { e: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// http://www.test.com/#/?e=5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> url2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> formatUrlParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://www.test.com?a=1&amp;b=2&amp;c=3#/detail?d=4&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { f: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// http://www.test.com/#/detail?f=5</span></span></code></pre></div><p><a name="decode"></a></p><h3 id="decode-str" tabindex="-1"><code>decode(str)</code> <a class="header-anchor" href="#decode-str" aria-label="Permalink to &quot;\`decode(str)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>多重解码。避免内嵌在外部时地址参数被编码，先进行URL解码再进行HTML字符实体解码</p></p><p><strong>Docgen</strong>:<br><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>str</td><td><code>string</code></td><td><p>文本</p></td></tr></tbody></table><p><strong>返回</strong>: <p>解码后的文本</p></p><p><a name="stringifyParams"></a></p><h3 id="stringifyparams-params" tabindex="-1"><code>stringifyParams(params)</code> <a class="header-anchor" href="#stringifyparams-params" aria-label="Permalink to &quot;\`stringifyParams(params)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>将参数对象转成字符串</p></p><p><strong>Docgen</strong>:<br><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>params</td><td><code>Object</code></td><td><p>参数对象</p></td></tr></tbody></table><p><a name="addUrlParam"></a></p><h3 id="addurlparam-url-key-value" tabindex="-1"><code>addUrlParam(url, key, value)</code> <a class="header-anchor" href="#addurlparam-url-key-value" aria-label="Permalink to &quot;\`addUrlParam(url, key, value)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>小程序不支持URL对象，用字符串拼接方式添加 注意：已有相同key不支持覆盖，会重复添加</p></p><p><strong>Docgen</strong>:<br><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>描述</th></tr></thead><tbody><tr><td>url</td><td><p>输入url</p></td></tr><tr><td>key</td><td><p>键</p></td></tr><tr><td>value</td><td><p>值</p></td></tr></tbody></table><p><a name="decode"></a></p><h3 id="decode-str-1" tabindex="-1"><code>decode(str)</code> <a class="header-anchor" href="#decode-str-1" aria-label="Permalink to &quot;\`decode(str)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>多重解码。避免内嵌在外部时地址参数被编码，先进行URL解码再进行HTML字符实体解码</p></p><p><strong>Docgen</strong>:<br><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>str</td><td><code>string</code></td><td><p>文本</p></td></tr></tbody></table><p><strong>返回</strong>: <p>解码后的文本</p></p><p><a name="stringifyParams"></a></p><h3 id="stringifyparams-params-1" tabindex="-1"><code>stringifyParams(params)</code> <a class="header-anchor" href="#stringifyparams-params-1" aria-label="Permalink to &quot;\`stringifyParams(params)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>将参数对象转成字符串</p></p><p><strong>Docgen</strong>:<br><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>params</td><td><code>Object</code></td><td><p>参数对象</p></td></tr></tbody></table><p><a name="addUrlParam"></a></p><h3 id="addurlparam-url-key-value-1" tabindex="-1"><code>addUrlParam(url, key, value)</code> <a class="header-anchor" href="#addurlparam-url-key-value-1" aria-label="Permalink to &quot;\`addUrlParam(url, key, value)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>小程序不支持URL对象，用字符串拼接方式添加 注意：已有相同key不支持覆盖，会重复添加</p></p><p><strong>Docgen</strong>:<br><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>描述</th></tr></thead><tbody><tr><td>url</td><td><p>输入url</p></td></tr><tr><td>key</td><td><p>键</p></td></tr><tr><td>value</td><td><p>值</p></td></tr></tbody></table><p><a name="addUrlParams"></a></p><h3 id="addurlparams-url-params-shouldoverride" tabindex="-1"><code>addUrlParams(url, params, [shouldOverride])</code> <a class="header-anchor" href="#addurlparams-url-params-shouldoverride" aria-label="Permalink to &quot;\`addUrlParams(url, params, [shouldOverride])\`&quot;">​</a></h3><p><strong>描述</strong>：<p>为url添加参数</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td>url</td><td><code>string</code></td><td></td></tr><tr><td>params</td><td><code>object</code></td><td></td></tr><tr><td>[shouldOverride]</td><td><code>boolean</code></td><td><code>false</code></td></tr></tbody></table><p><a name="keepUrlParams"></a></p><h3 id="keepurlparams-url-removekeyarr" tabindex="-1"><code>keepUrlParams(url, removeKeyArr)</code> <a class="header-anchor" href="#keepurlparams-url-removekeyarr" aria-label="Permalink to &quot;\`keepUrlParams(url, removeKeyArr)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>除保留参数外，一律移除</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>url</td><td><code>string</code></td><td><p>地址</p></td></tr><tr><td>removeKeyArr</td><td><code>string</code></td><td><p>待保留的参数名集合</p></td></tr></tbody></table><p><strong>返回</strong>: <p>重新拼接的地址</p></p><p><strong>示例</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> keepUrlParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://www.test.com?a=1&amp;b=2&amp;c=3#/detail?d=4&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;d&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;http://www.test.com/#/detail?a=1&amp;d=4&#39;</span></span></code></pre></div><p><a name="removeUrlParams"></a></p><h3 id="removeurlparams-url-removekeyarr" tabindex="-1"><code>removeUrlParams(url, removeKeyArr)</code> <a class="header-anchor" href="#removeurlparams-url-removekeyarr" aria-label="Permalink to &quot;\`removeUrlParams(url, removeKeyArr)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>移除参数</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>url</td><td><code>string</code></td><td><p>地址</p></td></tr><tr><td>removeKeyArr</td><td><code>string</code></td><td><p>待移除的参数名集合</p></td></tr></tbody></table><p><strong>返回</strong>: <p>重新拼接的地址</p></p><p><strong>示例</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> removeUrlParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://www.test.com/#/detail?a=1&amp;b=2&amp;c=3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;b&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;http://www.test.com/#/detail?c=3&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> url2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> removeUrlParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://www.test.com?d=4&amp;f=6#/detail?a=1&amp;b=2&amp;c=3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;d&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;http://www.test.com/#/detail?b=2&amp;c=3&amp;f=6&#39;</span></span></code></pre></div><p><a name="resolveUrlParams"></a></p><h3 id="resolveurlparams-url-key" tabindex="-1"><code>resolveUrlParams([url], [key])</code> <a class="header-anchor" href="#resolveurlparams-url-key" aria-label="Permalink to &quot;\`resolveUrlParams([url], [key])\`&quot;">​</a></h3><p><strong>描述</strong>：<p>提取链接参数，兼容hash模式和history模式，以及拼接异常情况</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>[url]</td><td><code>string</code></td><td><code>&quot;&#39;&#39;&quot;</code></td><td><p>地址</p></td></tr><tr><td>[key]</td><td><code>string</code></td><td><code>&quot;&#39;&#39;&quot;</code></td><td><p>可选，若不为空，则提取返回该key对应的参数值</p></td></tr></tbody></table><p><strong>返回</strong>: <p>地址参数对象，或者是指定参数值</p></p><p><strong>示例</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;https://igame.qq.com?name=mike&amp;age=18#/index?from=china&amp;home=china&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolveUrlParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(url); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// { from: &#39;china&#39;, home: &#39;china&#39;, name: &#39;mike&#39;, age: 18 }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> paramsAge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  resolveUrlParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(url, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;age&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 18</span></span></code></pre></div><p><a name="getQueryObj"></a></p><h3 id="getqueryobj-url" tabindex="-1"><code>getQueryObj(url)</code> <a class="header-anchor" href="#getqueryobj-url" aria-label="Permalink to &quot;\`getQueryObj(url)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>url参数变对象</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>url</td><td><code>string</code></td><td><p>输入URL</p></td></tr></tbody></table><p><strong>返回</strong>: <code>Object</code><br></p><p>search对象</p><p><strong>示例</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getQueryObj</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://igame.qq.com?name=mike&amp;age=18&amp;feel=cold&amp;from=China&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mike&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  age</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;18&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  feel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cold&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;China&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a name="composeUrlQuery"></a></p><h3 id="composeurlquery-url-queryobj" tabindex="-1"><code>composeUrlQuery(url, queryObj)</code> <a class="header-anchor" href="#composeurlquery-url-queryobj" aria-label="Permalink to &quot;\`composeUrlQuery(url, queryObj)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>组装<code>url</code>参数，将search参数添加在后面</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>url</td><td><code>string</code></td><td><p>输入URL</p></td></tr><tr><td>queryObj</td><td><code>Object</code></td><td><p>search对象</p></td></tr></tbody></table><p><strong>返回</strong>: <code>string</code><br></p><p>组装后的url</p><p><strong>示例</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">composeUrlQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://baidu.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mike&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  feel: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cold&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;18&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  from: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// https://baidu.com?name=mike&amp;feel=cold&amp;age=18&amp;from=test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">composeUrlQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://baidu.com?gender=male&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mike&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  feel: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cold&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  age: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;18&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  from: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// https://baidu.com?gender=male&amp;name=mike&amp;feel=cold&amp;age=18&amp;from=test</span></span></code></pre></div><p><a name="encodeUrlParam"></a></p><h3 id="encodeurlparam-obj" tabindex="-1"><code>encodeUrlParam(obj)</code> <a class="header-anchor" href="#encodeurlparam-obj" aria-label="Permalink to &quot;\`encodeUrlParam(obj)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>将对象字符串化</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>obj</td><td><code>object</code></td><td><p>输入对象</p></td></tr></tbody></table><p><strong>返回</strong>: <code>string</code><br></p><p>字符串</p><p><strong>示例</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encodeUrlParam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({a: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &#39;%7B%22a%22%3A1%7D&#39;</span></span></code></pre></div><p><a name="decodeUrlParam"></a></p><h3 id="decodeurlparam-obj" tabindex="-1"><code>decodeUrlParam(obj)</code> <a class="header-anchor" href="#decodeurlparam-obj" aria-label="Permalink to &quot;\`decodeUrlParam(obj)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>将字符串解码，与<code>encodeUrlParam</code>相对</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>obj</td><td><code>string</code></td><td><p>输入字符串</p></td></tr></tbody></table><p><strong>返回</strong>: <code>object</code><br></p><p>对象</p><p><strong>示例</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decodeUrlParam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;%7B%22a%22%3A1%7D&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// { a: 1 }</span></span></code></pre></div><p><a name="getUrlPara"></a></p><h3 id="geturlpara-paraname-search" tabindex="-1"><code>getUrlPara(paraName, search)</code> <a class="header-anchor" href="#geturlpara-paraname-search" aria-label="Permalink to &quot;\`getUrlPara(paraName, search)\`&quot;">​</a></h3><p><strong>描述</strong>：<p>获取 Url 参数</p></p><p><strong>参数</strong>：</p><table tabindex="0"><thead><tr><th>参数名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>paraName</td><td><code>string</code></td><td><p>参数 key</p></td></tr><tr><td>search</td><td><code>string</code></td><td><p>url search 部分</p></td></tr></tbody></table><p><strong>返回</strong>: <p>paraValue</p></p><p><strong>示例</strong></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUrlPara</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;gender&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;?gender=male&amp;name=mike&amp;feel=cold&amp;age=18&amp;from=test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// male</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUrlPara</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;age&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;?gender=male&amp;name=mike&amp;feel=cold&amp;age=18&amp;from=test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 18</span></span></code></pre></div>`,127)]))}const g=a(n,[["render",p]]);export{E as __pageData,g as default};
